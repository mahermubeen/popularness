<template>
  <div class="sidebar1">
    <div class="side-nav1">
      <div class="side-menu">
        <router-link to="/">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="19"
            height="18"
            viewBox="0 0 19 18"
          >
            <path
              d="M18.6068 8.85253L9.97405 0.197127C9.91189 0.134638 9.83806 0.085062 9.75679 0.0512365C9.67551 0.017411 9.58838 0 9.50039 0C9.4124 0 9.32527 0.017411 9.244 0.0512365C9.16272 0.085062 9.08889 0.134638 9.02674 0.197127L0.394016 8.85253C0.142516 9.10487 0 9.44764 0 9.80513C0 10.5474 0.601503 11.151 1.34133 11.151H2.25092V17.3271C2.25092 17.6993 2.55062 18 2.92159 18H8.15906V13.2896H10.5064V18H16.0792C16.4502 18 16.7499 17.6993 16.7499 17.3271V11.151H17.6595C18.0157 11.151 18.3574 11.0101 18.6089 10.7556C19.1307 10.2299 19.1307 9.37824 18.6068 8.85253Z"
              fill="#999999"
            />
          </svg>
          <span>Home</span>
        </router-link>
        <!-- <router-link to="/product">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="19"
            height="18"
            viewBox="0 0 19 18"
          >
            <path
              d="M19 8.983C19.0097 13.9417 14.7411 17.9965 9.50689 18C7.24623 18.0015 5.16972 17.255 3.5379 16.0073C3.11358 15.6828 3.08187 15.0804 3.46746 14.7151L3.89906 14.3062C4.22884 13.9938 4.75532 13.9596 5.12069 14.2342C6.32293 15.138 7.84443 15.6774 9.49999 15.6774C13.3959 15.6774 16.5484 12.6904 16.5484 9.00002C16.5484 5.3091 13.3953 2.32259 9.49999 2.32259C7.6301 2.32259 5.93179 3.01098 4.67078 4.13464L6.61498 5.97652C7.00111 6.34233 6.72764 6.96776 6.18162 6.96776H0.612903C0.274389 6.96776 0 6.70781 0 6.38711V1.11147C0 0.594183 0.660173 0.335105 1.0463 0.700876L2.93757 2.49261C4.64308 0.948486 6.95461 0 9.49999 0C14.7407 0 18.9903 4.02025 19 8.983ZM12.0699 11.8421L12.4462 11.3838C12.7579 11.004 12.6857 10.4568 12.2849 10.1615L10.7258 9.01268V5.22582C10.7258 4.74479 10.3142 4.35485 9.80644 4.35485H9.19354C8.68579 4.35485 8.27419 4.74479 8.27419 5.22582V10.1486L10.7798 11.9949C11.1806 12.2902 11.7582 12.2218 12.0699 11.8421Z"
              fill="#999999"
            />
          </svg>
          <span>Product</span>
        </router-link>
        <router-link to="/pricing-new">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="19"
            height="18"
            viewBox="0 0 19 18"
          >
            <path
              d="M19 8.983C19.0097 13.9417 14.7411 17.9965 9.50689 18C7.24623 18.0015 5.16972 17.255 3.5379 16.0073C3.11358 15.6828 3.08187 15.0804 3.46746 14.7151L3.89906 14.3062C4.22884 13.9938 4.75532 13.9596 5.12069 14.2342C6.32293 15.138 7.84443 15.6774 9.49999 15.6774C13.3959 15.6774 16.5484 12.6904 16.5484 9.00002C16.5484 5.3091 13.3953 2.32259 9.49999 2.32259C7.6301 2.32259 5.93179 3.01098 4.67078 4.13464L6.61498 5.97652C7.00111 6.34233 6.72764 6.96776 6.18162 6.96776H0.612903C0.274389 6.96776 0 6.70781 0 6.38711V1.11147C0 0.594183 0.660173 0.335105 1.0463 0.700876L2.93757 2.49261C4.64308 0.948486 6.95461 0 9.49999 0C14.7407 0 18.9903 4.02025 19 8.983ZM12.0699 11.8421L12.4462 11.3838C12.7579 11.004 12.6857 10.4568 12.2849 10.1615L10.7258 9.01268V5.22582C10.7258 4.74479 10.3142 4.35485 9.80644 4.35485H9.19354C8.68579 4.35485 8.27419 4.74479 8.27419 5.22582V10.1486L10.7798 11.9949C11.1806 12.2902 11.7582 12.2218 12.0699 11.8421Z"
              fill="#999999"
            />
          </svg>
          <span>Pricing</span>
        </router-link>
        <router-link to="/brand">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="19"
            height="18"
            viewBox="0 0 19 18"
          >
            <path
              d="M19 8.983C19.0097 13.9417 14.7411 17.9965 9.50689 18C7.24623 18.0015 5.16972 17.255 3.5379 16.0073C3.11358 15.6828 3.08187 15.0804 3.46746 14.7151L3.89906 14.3062C4.22884 13.9938 4.75532 13.9596 5.12069 14.2342C6.32293 15.138 7.84443 15.6774 9.49999 15.6774C13.3959 15.6774 16.5484 12.6904 16.5484 9.00002C16.5484 5.3091 13.3953 2.32259 9.49999 2.32259C7.6301 2.32259 5.93179 3.01098 4.67078 4.13464L6.61498 5.97652C7.00111 6.34233 6.72764 6.96776 6.18162 6.96776H0.612903C0.274389 6.96776 0 6.70781 0 6.38711V1.11147C0 0.594183 0.660173 0.335105 1.0463 0.700876L2.93757 2.49261C4.64308 0.948486 6.95461 0 9.49999 0C14.7407 0 18.9903 4.02025 19 8.983ZM12.0699 11.8421L12.4462 11.3838C12.7579 11.004 12.6857 10.4568 12.2849 10.1615L10.7258 9.01268V5.22582C10.7258 4.74479 10.3142 4.35485 9.80644 4.35485H9.19354C8.68579 4.35485 8.27419 4.74479 8.27419 5.22582V10.1486L10.7798 11.9949C11.1806 12.2902 11.7582 12.2218 12.0699 11.8421Z"
              fill="#999999"
            />
          </svg>
          <span>Brand</span>
        </router-link> -->
        <router-link to="/recently-watched">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="19"
            height="18"
            viewBox="0 0 19 18"
          >
            <path
              d="M19 8.983C19.0097 13.9417 14.7411 17.9965 9.50689 18C7.24623 18.0015 5.16972 17.255 3.5379 16.0073C3.11358 15.6828 3.08187 15.0804 3.46746 14.7151L3.89906 14.3062C4.22884 13.9938 4.75532 13.9596 5.12069 14.2342C6.32293 15.138 7.84443 15.6774 9.49999 15.6774C13.3959 15.6774 16.5484 12.6904 16.5484 9.00002C16.5484 5.3091 13.3953 2.32259 9.49999 2.32259C7.6301 2.32259 5.93179 3.01098 4.67078 4.13464L6.61498 5.97652C7.00111 6.34233 6.72764 6.96776 6.18162 6.96776H0.612903C0.274389 6.96776 0 6.70781 0 6.38711V1.11147C0 0.594183 0.660173 0.335105 1.0463 0.700876L2.93757 2.49261C4.64308 0.948486 6.95461 0 9.49999 0C14.7407 0 18.9903 4.02025 19 8.983ZM12.0699 11.8421L12.4462 11.3838C12.7579 11.004 12.6857 10.4568 12.2849 10.1615L10.7258 9.01268V5.22582C10.7258 4.74479 10.3142 4.35485 9.80644 4.35485H9.19354C8.68579 4.35485 8.27419 4.74479 8.27419 5.22582V10.1486L10.7798 11.9949C11.1806 12.2902 11.7582 12.2218 12.0699 11.8421Z"
              fill="#999999"
            />
          </svg>
          <span>History</span>
        </router-link>
        <router-link to="/upload">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="22"
            height="14"
            viewBox="0 0 22 14"
          >
            <path
              d="M17.6 2C17.6 1.46957 17.3682 0.960859 16.9556 0.585786C16.5431 0.210714 15.9835 0 15.4 0H2.2C1.61652 0 1.05694 0.210714 0.644365 0.585786C0.231785 0.960859 0 1.46957 0 2V12C0 12.5304 0.231785 13.0391 0.644365 13.4142C1.05694 13.7893 1.61652 14 2.2 14H15.4C15.9835 14 16.5431 13.7893 16.9556 13.4142C17.3682 13.0391 17.6 12.5304 17.6 12V8.667L22 12V2L17.6 5.333V2ZM13.2 8H9.9V11H7.7V8H4.4V6H7.7V3H9.9V6H13.2V8Z"
              fill="#999999"
            />
          </svg>
          <span>Upload Video</span>
        </router-link>
        <router-link to="/my-playlist">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="20"
            height="16"
            viewBox="0 0 20 16"
          >
            <path
              d="M11 12.493C11 14.427 12.573 16 14.507 16C16.441 16 18.014 14.427 18.014 12.493C18.014 12.316 17.987 12.146 17.961 11.976H18V2H20V0H17C16.7348 0 16.4804 0.105357 16.2929 0.292893C16.1054 0.48043 16 0.734784 16 1V9.333C15.5344 9.10767 15.0243 8.98945 14.507 8.987C13.5773 8.98779 12.6859 9.3574 12.0284 10.0147C11.3709 10.672 11.0011 11.5633 11 12.493ZM0 1H14V3H0V1Z"
              fill="#999999"
            />
            <path
              d="M0 5H14V7H0V5ZM0 9H9V11H0V9ZM0 13H9V15H0V13Z"
              fill="#999999"
            />
          </svg>
          <span>Playlists</span>
        </router-link>
        <router-link to="/filter">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            viewBox="0 0 16 16"
          >
            <path
              d="M0.766669 3.06667H9.20002C9.20002 3.47334 9.36157 3.86335 9.64913 4.15091C9.93668 4.43846 10.3267 4.60001 10.7334 4.60001H12.2667C12.6734 4.60001 13.0634 4.43846 13.3509 4.15091C13.6385 3.86335 13.8 3.47334 13.8 3.06667H14.5667C14.77 3.06667 14.965 2.9859 15.1088 2.84212C15.2526 2.69834 15.3334 2.50334 15.3334 2.30001C15.3334 2.09667 15.2526 1.90167 15.1088 1.75789C14.965 1.61411 14.77 1.53334 14.5667 1.53334H13.8C13.8 1.12667 13.6385 0.736661 13.3509 0.449104C13.0634 0.161548 12.6734 0 12.2667 0H10.7334C10.3267 0 9.93668 0.161548 9.64913 0.449104C9.36157 0.736661 9.20002 1.12667 9.20002 1.53334H0.766669C0.563335 1.53334 0.36833 1.61411 0.224552 1.75789C0.0807738 1.90167 0 2.09667 0 2.30001C0 2.50334 0.0807738 2.69834 0.224552 2.84212C0.36833 2.9859 0.563335 3.06667 0.766669 3.06667ZM10.7334 1.53334H12.2667V2.30001V3.06667H10.7334V1.53334ZM14.5667 6.90002H7.66669C7.66669 6.49335 7.50514 6.10334 7.21758 5.81578C6.93003 5.52823 6.54002 5.36668 6.13335 5.36668H4.60001C4.19335 5.36668 3.80334 5.52823 3.51578 5.81578C3.22822 6.10334 3.06667 6.49335 3.06667 6.90002H0.766669C0.563335 6.90002 0.36833 6.98079 0.224552 7.12457C0.0807738 7.26835 0 7.46335 0 7.66669C0 7.87002 0.0807738 8.06503 0.224552 8.2088C0.36833 8.35258 0.563335 8.43336 0.766669 8.43336H3.06667C3.06667 8.84002 3.22822 9.23003 3.51578 9.51759C3.80334 9.80515 4.19335 9.96669 4.60001 9.96669H6.13335C6.54002 9.96669 6.93003 9.80515 7.21758 9.51759C7.50514 9.23003 7.66669 8.84002 7.66669 8.43336H14.5667C14.77 8.43336 14.965 8.35258 15.1088 8.2088C15.2526 8.06503 15.3334 7.87002 15.3334 7.66669C15.3334 7.46335 15.2526 7.26835 15.1088 7.12457C14.965 6.98079 14.77 6.90002 14.5667 6.90002ZM4.60001 8.43336V6.90002H6.13335V7.66669V8.43336H4.60001ZM14.5667 12.2667H12.2667C12.2667 11.86 12.1052 11.47 11.8176 11.1825C11.53 10.8949 11.14 10.7334 10.7334 10.7334H9.20002C8.79336 10.7334 8.40335 10.8949 8.11579 11.1825C7.82823 11.47 7.66669 11.86 7.66669 12.2667H0.766669C0.563335 12.2667 0.36833 12.3475 0.224552 12.4913C0.0807738 12.635 0 12.83 0 13.0334C0 13.2367 0.0807738 13.4317 0.224552 13.5755C0.36833 13.7193 0.563335 13.8 0.766669 13.8H7.66669C7.66669 14.2067 7.82823 14.5967 8.11579 14.8843C8.40335 15.1718 8.79336 15.3334 9.20002 15.3334H10.7334C11.14 15.3334 11.53 15.1718 11.8176 14.8843C12.1052 14.5967 12.2667 14.2067 12.2667 13.8H14.5667C14.77 13.8 14.965 13.7193 15.1088 13.5755C15.2526 13.4317 15.3334 13.2367 15.3334 13.0334C15.3334 12.83 15.2526 12.635 15.1088 12.4913C14.965 12.3475 14.77 12.2667 14.5667 12.2667ZM9.20002 13.8V12.2667H10.7334V13.0334V13.8H9.20002Z"
              fill="#999999"
            />
          </svg>
          <span>Filter By</span>
        </router-link>
      </div>

      <!--<div class="search">
      <form>
        <input type="search" class="fld" placeholder="Search Videos" />
        <button>
          <img src="./../../../assets/images/search-icon.png" alt="" />
        </button>
      </form>
    </div>
    <div class="sider-buttons">
       <a href="login.php" class="login">Log In</a>
      <a href="signup.php" class="upload-video">Sign Up</a>
      <template v-if="isLogged">
        <a @click.prevent="handleLogout" class="login">Log Out</a>
      </template>
      <template v-else>
        <router-link to="/login"><a class="login">Log In</a></router-link>
        <router-link to="/fan-signup"><a class="upload-video">Sign Up</a></router-link>
      </template>
    </div>
     <div
      class="panel-group"
      id="accordion"
      role="tablist"
      aria-multiselectable="true"
    >
      <div class="panel panel-default">
        <div
          id="collapseOne"
          class="panel-collapse collapse show"
          role="tabpanel"
          aria-labelledby="headingOne"
        >
          <div class="panel-body mt-2">
            <ul class="quick-links">
              <li>
                <router-link to="/"><a>Home</a></router-link>
              </li>
              <template v-if="isLogged">
                 <li>
                  <router-link to="/my-videos"><a>Videos</a></router-link>
                </li>
                <li>
                  <router-link to="/recently-watched"
                    ><a>Recently Watched</a></router-link
                  >
                </li>
                <li v-if="user.user.user_type != 1">
                  <router-link to="/upload"><a>Upload Video <br>
                  </a></router-link>
                </li>
              </template>
            </ul>
          </div>
        </div>
      </div>
      <div class="panel panel-default" v-if="isLogged">
        <div class="panel-heading active" role="tab" id="headingOne">
          <h4 class="panel-title">
            <a> My Playlist </a>
          </h4>
        </div>
        <div>
          <div class="panel-body pt-0">
            <ul class="playlist-list mb-1">
              <router-link to="/playlist/create">
                <li>
                  <i class="fa fa-plus-circle"></i>
                  <a class="new-playlist ml-1">Create New Playlist</a>
                </li>
              </router-link>
              <router-link :to="`/playlist/update/${playlist.id}`" v-for="(playlist, index) in myPlaylists" :key="index">
                <li>
                  <a class="new-playlist ml-1">{{ playlist.name }}</a>
                </li>
              </router-link>
            </ul>
          </div>
        </div>
      </div>
      <div class="panel panel-default">
        <div class="panel-heading active" role="tab" id="headingThree">
          <h4 class="panel-title">
            <a> Calendar </a>
          </h4>
        </div>
        <div>
          <div class="panel-body">
            <v-date-picker
              value=""
              color="orange"
              :attributes='attrs'
              is-dark
              is-range
              @input="applyDateFilter"
            />
          </div>
        </div>
      </div>
      <div class="panel panel-default">
        <div class="panel-heading active" role="tab" id="headingFour">
          <h4 class="panel-title">
            <a> GENRES </a>
          </h4>
        </div>
        <div>
          <div class="panel-body">
            <form>
              <ul class="genres-list">
                <li v-for="(genre, index) in genres" :key="index">
                  <input
                    type="checkbox"
                    class="form-control"
                    :placeholder="genre.genre"
                    @change="genreSelected"
                    :value="genre.id"
                    v-model="filters.genreChecked"
                  /><span>{{ genre.genre }}</span>
                </li>
              </ul>
            </form>
          </div>
        </div>
      </div>
      <div class="panel panel-default">
        <div class="panel-heading active" role="tab" id="headingFive">
          <h4 class="panel-title">
            <a> Artists </a>
          </h4>
        </div>
        <div>
          <div class="panel-body">
            <ul class="artists-list">
              <li v-for="(initial, index) in artistList" :key="index">
                <a
                  :class="activeArtistFilter == initial ? 'active' : ''"
                  @click.prevent="artistSelected(initial)"
                >
                  {{ initial }}
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div> -->
    </div>

    <div class="mob-menu-wrapper hidden">
      <div class="mob-nav1">
        <router-link to="/">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="19"
            height="18"
            viewBox="0 0 19 18"
          >
            <path
              d="M18.6068 8.85253L9.97405 0.197127C9.91189 0.134638 9.83806 0.085062 9.75679 0.0512365C9.67551 0.017411 9.58838 0 9.50039 0C9.4124 0 9.32527 0.017411 9.244 0.0512365C9.16272 0.085062 9.08889 0.134638 9.02674 0.197127L0.394016 8.85253C0.142516 9.10487 0 9.44764 0 9.80513C0 10.5474 0.601503 11.151 1.34133 11.151H2.25092V17.3271C2.25092 17.6993 2.55062 18 2.92159 18H8.15906V13.2896H10.5064V18H16.0792C16.4502 18 16.7499 17.6993 16.7499 17.3271V11.151H17.6595C18.0157 11.151 18.3574 11.0101 18.6089 10.7556C19.1307 10.2299 19.1307 9.37824 18.6068 8.85253Z"
              fill="#999999"
            />
          </svg>
          <span>Home</span>
        </router-link>
        <!-- <router-link to="/product">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="19"
            height="18"
            viewBox="0 0 19 18"
          >
            <path
              d="M19 8.983C19.0097 13.9417 14.7411 17.9965 9.50689 18C7.24623 18.0015 5.16972 17.255 3.5379 16.0073C3.11358 15.6828 3.08187 15.0804 3.46746 14.7151L3.89906 14.3062C4.22884 13.9938 4.75532 13.9596 5.12069 14.2342C6.32293 15.138 7.84443 15.6774 9.49999 15.6774C13.3959 15.6774 16.5484 12.6904 16.5484 9.00002C16.5484 5.3091 13.3953 2.32259 9.49999 2.32259C7.6301 2.32259 5.93179 3.01098 4.67078 4.13464L6.61498 5.97652C7.00111 6.34233 6.72764 6.96776 6.18162 6.96776H0.612903C0.274389 6.96776 0 6.70781 0 6.38711V1.11147C0 0.594183 0.660173 0.335105 1.0463 0.700876L2.93757 2.49261C4.64308 0.948486 6.95461 0 9.49999 0C14.7407 0 18.9903 4.02025 19 8.983ZM12.0699 11.8421L12.4462 11.3838C12.7579 11.004 12.6857 10.4568 12.2849 10.1615L10.7258 9.01268V5.22582C10.7258 4.74479 10.3142 4.35485 9.80644 4.35485H9.19354C8.68579 4.35485 8.27419 4.74479 8.27419 5.22582V10.1486L10.7798 11.9949C11.1806 12.2902 11.7582 12.2218 12.0699 11.8421Z"
              fill="#999999"
            />
          </svg>
          <span>Product</span>
        </router-link>
        <router-link to="/pricing-new">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="19"
            height="18"
            viewBox="0 0 19 18"
          >
            <path
              d="M19 8.983C19.0097 13.9417 14.7411 17.9965 9.50689 18C7.24623 18.0015 5.16972 17.255 3.5379 16.0073C3.11358 15.6828 3.08187 15.0804 3.46746 14.7151L3.89906 14.3062C4.22884 13.9938 4.75532 13.9596 5.12069 14.2342C6.32293 15.138 7.84443 15.6774 9.49999 15.6774C13.3959 15.6774 16.5484 12.6904 16.5484 9.00002C16.5484 5.3091 13.3953 2.32259 9.49999 2.32259C7.6301 2.32259 5.93179 3.01098 4.67078 4.13464L6.61498 5.97652C7.00111 6.34233 6.72764 6.96776 6.18162 6.96776H0.612903C0.274389 6.96776 0 6.70781 0 6.38711V1.11147C0 0.594183 0.660173 0.335105 1.0463 0.700876L2.93757 2.49261C4.64308 0.948486 6.95461 0 9.49999 0C14.7407 0 18.9903 4.02025 19 8.983ZM12.0699 11.8421L12.4462 11.3838C12.7579 11.004 12.6857 10.4568 12.2849 10.1615L10.7258 9.01268V5.22582C10.7258 4.74479 10.3142 4.35485 9.80644 4.35485H9.19354C8.68579 4.35485 8.27419 4.74479 8.27419 5.22582V10.1486L10.7798 11.9949C11.1806 12.2902 11.7582 12.2218 12.0699 11.8421Z"
              fill="#999999"
            />
          </svg>
          <span>Pricing</span>
        </router-link>
        <router-link to="/brand">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="19"
            height="18"
            viewBox="0 0 19 18"
          >
            <path
              d="M19 8.983C19.0097 13.9417 14.7411 17.9965 9.50689 18C7.24623 18.0015 5.16972 17.255 3.5379 16.0073C3.11358 15.6828 3.08187 15.0804 3.46746 14.7151L3.89906 14.3062C4.22884 13.9938 4.75532 13.9596 5.12069 14.2342C6.32293 15.138 7.84443 15.6774 9.49999 15.6774C13.3959 15.6774 16.5484 12.6904 16.5484 9.00002C16.5484 5.3091 13.3953 2.32259 9.49999 2.32259C7.6301 2.32259 5.93179 3.01098 4.67078 4.13464L6.61498 5.97652C7.00111 6.34233 6.72764 6.96776 6.18162 6.96776H0.612903C0.274389 6.96776 0 6.70781 0 6.38711V1.11147C0 0.594183 0.660173 0.335105 1.0463 0.700876L2.93757 2.49261C4.64308 0.948486 6.95461 0 9.49999 0C14.7407 0 18.9903 4.02025 19 8.983ZM12.0699 11.8421L12.4462 11.3838C12.7579 11.004 12.6857 10.4568 12.2849 10.1615L10.7258 9.01268V5.22582C10.7258 4.74479 10.3142 4.35485 9.80644 4.35485H9.19354C8.68579 4.35485 8.27419 4.74479 8.27419 5.22582V10.1486L10.7798 11.9949C11.1806 12.2902 11.7582 12.2218 12.0699 11.8421Z"
              fill="#999999"
            />
          </svg>
          <span>Brand</span>
        </router-link> -->
        <router-link to="/recently-watched">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="19"
            height="18"
            viewBox="0 0 19 18"
          >
            <path
              d="M19 8.983C19.0097 13.9417 14.7411 17.9965 9.50689 18C7.24623 18.0015 5.16972 17.255 3.5379 16.0073C3.11358 15.6828 3.08187 15.0804 3.46746 14.7151L3.89906 14.3062C4.22884 13.9938 4.75532 13.9596 5.12069 14.2342C6.32293 15.138 7.84443 15.6774 9.49999 15.6774C13.3959 15.6774 16.5484 12.6904 16.5484 9.00002C16.5484 5.3091 13.3953 2.32259 9.49999 2.32259C7.6301 2.32259 5.93179 3.01098 4.67078 4.13464L6.61498 5.97652C7.00111 6.34233 6.72764 6.96776 6.18162 6.96776H0.612903C0.274389 6.96776 0 6.70781 0 6.38711V1.11147C0 0.594183 0.660173 0.335105 1.0463 0.700876L2.93757 2.49261C4.64308 0.948486 6.95461 0 9.49999 0C14.7407 0 18.9903 4.02025 19 8.983ZM12.0699 11.8421L12.4462 11.3838C12.7579 11.004 12.6857 10.4568 12.2849 10.1615L10.7258 9.01268V5.22582C10.7258 4.74479 10.3142 4.35485 9.80644 4.35485H9.19354C8.68579 4.35485 8.27419 4.74479 8.27419 5.22582V10.1486L10.7798 11.9949C11.1806 12.2902 11.7582 12.2218 12.0699 11.8421Z"
              fill="#999999"
            />
          </svg>
          <span>History</span>
        </router-link>
        <router-link to="/upload">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="22"
            height="14"
            viewBox="0 0 22 14"
          >
            <path
              d="M17.6 2C17.6 1.46957 17.3682 0.960859 16.9556 0.585786C16.5431 0.210714 15.9835 0 15.4 0H2.2C1.61652 0 1.05694 0.210714 0.644365 0.585786C0.231785 0.960859 0 1.46957 0 2V12C0 12.5304 0.231785 13.0391 0.644365 13.4142C1.05694 13.7893 1.61652 14 2.2 14H15.4C15.9835 14 16.5431 13.7893 16.9556 13.4142C17.3682 13.0391 17.6 12.5304 17.6 12V8.667L22 12V2L17.6 5.333V2ZM13.2 8H9.9V11H7.7V8H4.4V6H7.7V3H9.9V6H13.2V8Z"
              fill="#999999"
            />
          </svg>
          <span>Upload Video</span>
        </router-link>
        <router-link to="/my-playlist">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="20"
            height="16"
            viewBox="0 0 20 16"
          >
            <path
              d="M11 12.493C11 14.427 12.573 16 14.507 16C16.441 16 18.014 14.427 18.014 12.493C18.014 12.316 17.987 12.146 17.961 11.976H18V2H20V0H17C16.7348 0 16.4804 0.105357 16.2929 0.292893C16.1054 0.48043 16 0.734784 16 1V9.333C15.5344 9.10767 15.0243 8.98945 14.507 8.987C13.5773 8.98779 12.6859 9.3574 12.0284 10.0147C11.3709 10.672 11.0011 11.5633 11 12.493ZM0 1H14V3H0V1Z"
              fill="#999999"
            />
            <path
              d="M0 5H14V7H0V5ZM0 9H9V11H0V9ZM0 13H9V15H0V13Z"
              fill="#999999"
            />
          </svg>
          <span>Playlists</span>
        </router-link>
        <router-link to="/filter">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            viewBox="0 0 16 16"
          >
            <path
              d="M0.766669 3.06667H9.20002C9.20002 3.47334 9.36157 3.86335 9.64913 4.15091C9.93668 4.43846 10.3267 4.60001 10.7334 4.60001H12.2667C12.6734 4.60001 13.0634 4.43846 13.3509 4.15091C13.6385 3.86335 13.8 3.47334 13.8 3.06667H14.5667C14.77 3.06667 14.965 2.9859 15.1088 2.84212C15.2526 2.69834 15.3334 2.50334 15.3334 2.30001C15.3334 2.09667 15.2526 1.90167 15.1088 1.75789C14.965 1.61411 14.77 1.53334 14.5667 1.53334H13.8C13.8 1.12667 13.6385 0.736661 13.3509 0.449104C13.0634 0.161548 12.6734 0 12.2667 0H10.7334C10.3267 0 9.93668 0.161548 9.64913 0.449104C9.36157 0.736661 9.20002 1.12667 9.20002 1.53334H0.766669C0.563335 1.53334 0.36833 1.61411 0.224552 1.75789C0.0807738 1.90167 0 2.09667 0 2.30001C0 2.50334 0.0807738 2.69834 0.224552 2.84212C0.36833 2.9859 0.563335 3.06667 0.766669 3.06667ZM10.7334 1.53334H12.2667V2.30001V3.06667H10.7334V1.53334ZM14.5667 6.90002H7.66669C7.66669 6.49335 7.50514 6.10334 7.21758 5.81578C6.93003 5.52823 6.54002 5.36668 6.13335 5.36668H4.60001C4.19335 5.36668 3.80334 5.52823 3.51578 5.81578C3.22822 6.10334 3.06667 6.49335 3.06667 6.90002H0.766669C0.563335 6.90002 0.36833 6.98079 0.224552 7.12457C0.0807738 7.26835 0 7.46335 0 7.66669C0 7.87002 0.0807738 8.06503 0.224552 8.2088C0.36833 8.35258 0.563335 8.43336 0.766669 8.43336H3.06667C3.06667 8.84002 3.22822 9.23003 3.51578 9.51759C3.80334 9.80515 4.19335 9.96669 4.60001 9.96669H6.13335C6.54002 9.96669 6.93003 9.80515 7.21758 9.51759C7.50514 9.23003 7.66669 8.84002 7.66669 8.43336H14.5667C14.77 8.43336 14.965 8.35258 15.1088 8.2088C15.2526 8.06503 15.3334 7.87002 15.3334 7.66669C15.3334 7.46335 15.2526 7.26835 15.1088 7.12457C14.965 6.98079 14.77 6.90002 14.5667 6.90002ZM4.60001 8.43336V6.90002H6.13335V7.66669V8.43336H4.60001ZM14.5667 12.2667H12.2667C12.2667 11.86 12.1052 11.47 11.8176 11.1825C11.53 10.8949 11.14 10.7334 10.7334 10.7334H9.20002C8.79336 10.7334 8.40335 10.8949 8.11579 11.1825C7.82823 11.47 7.66669 11.86 7.66669 12.2667H0.766669C0.563335 12.2667 0.36833 12.3475 0.224552 12.4913C0.0807738 12.635 0 12.83 0 13.0334C0 13.2367 0.0807738 13.4317 0.224552 13.5755C0.36833 13.7193 0.563335 13.8 0.766669 13.8H7.66669C7.66669 14.2067 7.82823 14.5967 8.11579 14.8843C8.40335 15.1718 8.79336 15.3334 9.20002 15.3334H10.7334C11.14 15.3334 11.53 15.1718 11.8176 14.8843C12.1052 14.5967 12.2667 14.2067 12.2667 13.8H14.5667C14.77 13.8 14.965 13.7193 15.1088 13.5755C15.2526 13.4317 15.3334 13.2367 15.3334 13.0334C15.3334 12.83 15.2526 12.635 15.1088 12.4913C14.965 12.3475 14.77 12.2667 14.5667 12.2667ZM9.20002 13.8V12.2667H10.7334V13.0334V13.8H9.20002Z"
              fill="#999999"
            />
          </svg>
          <span>Filter By</span>
        </router-link>
      </div>
    </div>
  </div>
</template>

<script>
import { mapState, mapGetters } from "vuex";
import Calendar from "v-calendar/lib/components/calendar.umd";
import DatePicker from "v-calendar/lib/components/date-picker.umd";

export default {
  data() {
    return {
      genreChecked: [],
      artistList: [
        "a",
        "b",
        "c",
        "d",
        "e",
        "f",
        "g",
        "h",
        "i",
        "j",
        "k",
        "l",
        "m",
        "n",
        "o",
        "p",
        "q",
        "r",
        "s",
        "t",
        "u",
        "v",
        "w",
        "x",
        "y",
        "z",
      ],
      activeArtistFilter: null,
      attrs: [
        {
          key: "today",
          highlight: true,
          highlight: "#ffa472",
          highlight: {
            color: "#ffa472",
            fillMode: "outline",
            class: "highlight-date",
          },
          dates: new Date(),
        },
      ],
      filters: {
        genreChecked: [],
        dateRange: {},
        artistInitial: null,
      },
      components: {
        Calendar,
        DatePicker,
      },
    };
  },
  mounted() {
    this.$store.dispatch("getGenres");
    if (this.isLogged) {
      this.$store.dispatch("getMyPlaylists");
    }
  },
  computed: {
    ...mapState({
      user: (state) => state.user,
      myPlaylists: (state) => state.playlist.myPlaylists,
    }),
    ...mapGetters(["isLogged", "genres"]),
  },
  methods: {
    applyDateFilter(range) {
      this.filters.dateRange = {
        start: moment(range.start).format("YYYY-MM-DD"),
        end: moment(range.end).format("YYYY-MM-DD"),
      };

      this.$store
        .dispatch("getVideosByDateRange", this.filters)
        .then((res) => {
          // console.log(res);
        })
        .catch((err) => {
          console.log(err.message);
        });
    },
    genreSelected() {
      this.$store.dispatch("getLatestVideos", this.filters);
    },
    artistSelected(initial) {
      this.activeArtistFilter = initial;
      this.filters.artistInitial = initial;
      if (initial) {
        this.$store.dispatch("getVideosByArtist", this.filters);
      }
    },
    handleLogout() {
      this.$store
        .dispatch("handleLogout")
        .then((response) => {
          if (this.$route.name != "welcome") {
            this.$router.push({ name: "welcome" });
          }
          this.$notify({
            title: "Success!",
            text: "You are logged out successfully!",
            type: "success",
          });
        })
        .catch((err) => {
          this.$notify({
            title: "Error!",
            text: err.message,
            type: "error",
          });
        });
    },
  },
};
</script>
<style scoped>
[type="checkbox"] {
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  width: 12px;
  height: 12px;
  border-radius: 0;
  /* border: solid 1px #FFA472; */
  /* margin-right: 8px; */
  position: relative;
}

[type="checkbox"]:checked::before {
  content: "";
  width: 10px;
  height: 10px;
  background-color: #ffa472;
  position: absolute;
}
[type="checkbox"]:focus {
  border: solid 1px #2e2628;
}

/* v-calendar styles */
.vc-container.vc-is-dark {
  color: var(--gray-100);
  background-color: #000;
  border: none;
}
</style>
